(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(9),i=n.n(s),u=n(7),a=(n(16),n(3)),o=n(2),l=(n(17),n(0)),j=function(e){var t=e.sendAudioFile,n=Object(c.useState)(null),r=Object(a.a)(n,2),s=r[0],i=r[1],u=Object(o.f)();return Object(l.jsx)("div",{className:"file-upload-form-page",children:Object(l.jsxs)("div",{className:"file-upload-form",children:[Object(l.jsx)("input",{type:"file",accept:"audio/*",onChange:function(e){return i(e.target.files[0])}}),Object(l.jsx)("button",{onClick:function(){t(s),u("/analyzeAudio")},disabled:null===s,children:"Upload"}),Object(l.jsx)("hr",{}),Object(l.jsx)("a",{href:"https://substancia.github.io/randomStorage/testmusic.mp3",target:"_blank",rel:"noopener noreferrer",children:Object(l.jsx)("button",{children:"Download sample music"})})]})})},d=n(10),b=n.n(d),m=(n(19),function(e){return e.show?Object(l.jsxs)("div",{className:"preloader-container",children:[Object(l.jsx)("div",{className:"modal-bg"}),Object(l.jsx)("div",{className:"preloader"})]}):null}),O=(n(20),function(e){var t=Object(c.useState)(!0),n=Object(a.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(!1),u=Object(a.a)(i,2),o=u[0],j=u[1],d=Object(c.useState)(.5),O=Object(a.a)(d,2),h=O[0],p=O[1],v=Object(c.useState)(0),g=Object(a.a)(v,2),N=g[0],T=g[1],C=Object(c.useState)(1),S=Object(a.a)(C,2),w=S[0],y=S[1],k=Object(c.useState)(null),F=Object(a.a)(k,2),D=F[0],A=F[1],M=Object(c.useRef)(null),R=Object(c.useRef)(null),E=Object(c.useRef)(N),L=Object(c.useRef)(!1);Object(c.useEffect)((function(){return M.current=b.a.create({container:R.current,progressColor:"OrangeRed",cursorColor:"OrangeRed"}),M.current.loadBlob(e.audioFile),M.current.on("ready",(function(){M.current.setVolume(h),A(R.current.clientWidth),s(!1)})),M.current.on("finish",(function(){M.current.seekTo(E.current),j(!1)})),M.current.on("pause",(function(){L.current?L.current=!1:M.current.seekTo(E.current),j(!1),e.setCurrentTime(M.current.getCurrentTime())})),M.current.on("seek",(function(){L.current=!0,M.current.pause(),j(!1),e.setCurrentTime(M.current.getCurrentTime())})),function(){return M.current.destroy()}}),[e.audioFile]),Object(c.useEffect)((function(){M.current.getCurrentTime()/M.current.getDuration()<N&&M.current.seekTo(N),E.current=N}),[N]),Object(c.useEffect)((function(){M.current.getCurrentTime()/M.current.getDuration()>w&&(M.current.seekTo(w),L.current=!0,M.current.pause())}),[w]);return Object(l.jsxs)("div",{className:"audio-container",children:[Object(l.jsx)(m,{show:r}),Object(l.jsxs)("div",{id:"audio-waveform",ref:R,children:[Object(l.jsx)(f,{side:"left",trimLim:w*D,setTrim:function(e){return T(e/D)}}),Object(l.jsx)(f,{side:"right",trimLim:(1-N)*D,setTrim:function(e){return y(1-e/D)}})]}),Object(l.jsx)(x,{audioDuration:null!==M.current?M.current.getDuration():null,waveformWidth:D||0}),Object(l.jsxs)("div",{className:"audio-controls",children:[Object(l.jsxs)("div",{className:"buttons",children:[Object(l.jsxs)("label",{className:"switch",children:[Object(l.jsx)("input",{type:"checkbox"}),Object(l.jsx)("span",{className:"slider"})]}),Object(l.jsx)("button",{onClick:function(){o?(L.current=!0,M.current.pause()):M.current.play(M.current.getCurrentTime(),w*M.current.getDuration()),j(!o)},className:"no-border",children:Object(l.jsx)("i",{class:"fas fa-".concat(o?"pause":"play")})}),Object(l.jsx)("button",{onClick:function(){M.current.seekTo(N),M.current.play(M.current.getCurrentTime(),w*M.current.getDuration()),j(!0)},className:"no-border",children:Object(l.jsx)("i",{class:"fas fa-undo"})}),Object(l.jsxs)("button",{children:[Object(l.jsx)("i",{class:"fas fa-cut"})," Trim"]})]}),Object(l.jsx)("div",{className:"scales",children:Object(l.jsxs)("div",{className:"volume-control",children:[Object(l.jsx)("label",{htmlFor:"volume",children:Object(l.jsx)("i",{class:"fas fa-volume-up"})}),Object(l.jsx)("input",{name:"volume",type:"range",min:"0",max:"1",step:"0.025",onChange:function(e){p(e.target.value),M.current.setVolume(e.target.value||1)},value:h})]})})]})]})}),f=(n(21),function(e){var t=Object(c.useRef)(null);return Object(l.jsxs)("div",{className:"trim-slider trim-slider-".concat(e.side),ref:t,children:[Object(l.jsx)("div",{className:"trim-slider-bg"}),Object(l.jsx)("div",{className:"trim-slider-cursor trim-slider-cursor-".concat(e.side),onMouseDown:function(){var n=window.event.clientX,c=t.current.offsetWidth;document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,e.setTrim(t.current.offsetWidth)},document.onmousemove=function(){var r=window.event.clientX-n;"right"===e.side&&(r*=-1),t.current.style.width=Math.min(c+r,e.trimLim)+"px"}}})]})}),h=n(11),x=(n(22),function(e){var t=e.audioDuration,n=e.waveformWidth,r=Object(c.useState)(10),s=Object(a.a)(r,2),i=s[0],u=s[1];Object(c.useEffect)((function(){if(t>0){var e=t/8;u(Math.max(5*Math.round(e/5),1))}}),[t]);var o=Object(h.a)(Array(parseInt(t/i)+1).keys()).map((function(e){return Object(l.jsx)("text",{x:(e*i/t*n).toString(),y:"15",fill:"black",fontSize:"14",children:"".concat(Math.floor(e*i/60),":").concat(("0"+e*i%60).slice(-2))},e)}));return Object(l.jsx)("div",{className:"audioDurationScale",children:Object(l.jsxs)("svg",{height:"20",width:n.toString(),children:[o,"Sorry, your browser does not support inline SVG."]})})}),p=(n(23),function(e){var t=Object(c.useState)(""),n=Object(a.a)(t,2),r=n[0],s=n[1];return Object(l.jsxs)("div",{className:"new-note",children:[Object(l.jsxs)("p",{children:["Timestamp: ",e.currentTime,"s"]}),Object(l.jsx)("label",{htmlFor:"note",children:"Enter note:"}),Object(l.jsx)("textarea",{name:"note",value:r,onChange:function(e){return s(e.target.value)}}),Object(l.jsx)("button",{onClick:function(){e.setNotes((function(t){var n=t.concat([{timestamp:e.currentTime,note:r}]);return n.sort((function(e,t){return e.timestamp-t.timestamp})),n})),s("")},children:"Add note"})]})}),v=(n(24),function(e){var t=e.notes.map((function(t,n){return Object(l.jsxs)("div",{className:"note",children:[Object(l.jsx)("button",{className:"delete",onClick:function(){return function(t){e.setNotes(e.notes.slice(0,t).concat(e.notes.slice(t+1)))}(n)},children:Object(l.jsx)("i",{class:"fas fa-times"})}),Object(l.jsxs)("p",{children:["Timestamp: ",t.timestamp,"s"]}),Object(l.jsxs)("p",{children:["Note: ",t.note]})]},n)}));return Object(l.jsxs)("div",{className:"list-notes",children:[Object(l.jsx)("h4",{children:"Notes"}),t]})}),g=(n(25),function(e){var t=e.audioFile,n=Object(c.useState)([]),r=Object(a.a)(n,2),s=r[0],i=r[1],u=Object(c.useState)(0),o=Object(a.a)(u,2),j=o[0],d=o[1];return Object(l.jsxs)("div",{className:"display-audioFile",children:[Object(l.jsx)(O,{audioFile:t,setCurrentTime:function(e){return d(Math.round(1e3*e)/1e3)}}),Object(l.jsxs)("div",{className:"timestamp-notes",children:[Object(l.jsx)(p,{setNotes:i,currentTime:j}),Object(l.jsx)(v,{notes:s,setNotes:i})]})]})}),N=function(){var e=Object(c.useState)(null),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{path:"/",element:Object(l.jsx)(j,{sendAudioFile:r})}),Object(l.jsx)(o.a,{path:"/analyzeAudio",element:Object(l.jsx)(g,{audioFile:n})})]})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),s(e),i(e)}))};i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(u.a,{children:Object(l.jsx)(N,{})})}),document.getElementById("root")),T()}],[[26,1,2]]]);
//# sourceMappingURL=main.5d621087.chunk.js.map